(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(6),a=c.n(r),i=c(3),s=c(4),o=c(19),l=Object(s.b)({fires:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FIRES":return t.payload;default:return e}}}),d=(c.p,c(31),c(22)),u=c(5),p=c.n(u),j=c.p+"static/media/fire--out-of-control.293b83dd.svg",f=c.p+"static/media/fire--being-held.d1f68f8b.svg",b=c.p+"static/media/fire--under-control.6a580c09.svg",h=c(1),m=function(){var e=Object(i.c)((function(e){return e.fires})),t=Object(n.useState)({}),c=Object(d.a)(t,2),r=c[0],a=c[1],s=Object(n.createRef)();return s.current=r,Object(n.useEffect)((function(){var e="https://api.mapbox.com/styles/v1/gregslonina/ckqvh9jhh913a17nw1sgej609/tiles/256/{z}/{x}/{y}@2x?access_token=".concat("pk.eyJ1IjoiZ3JlZ3Nsb25pbmEiLCJhIjoiY2twc205enUzMGk5MzJ5cXI1ZWR5amJ6dCJ9.1c7WLK0uhVTG78UAUUDOmQ");s.current=p.a.map("map",{center:[49.2827,-123.1207],zoom:7,layers:[p.a.tileLayer(e,{attribution:'&copy; <a href="https://gregslonina.com">Greg Slonina</a>'})]}),a(s.current)}),[]),Object(n.useEffect)((function(){var t=p.a.Icon.extend({options:{iconSize:[20,20],iconAnchor:[10,10]}}),c=new t({iconUrl:j}),n=new t({iconUrl:f}),r=new t({iconUrl:b}),a=function(e){switch(e){case"Out of Control":return c;case"Being Held":return n;case"Under Control":return r;default:return c}},i=e.map((function(e,t){var c=e.lat,n=e.lon,r=e.fireNo,i=e.discoveryDate,s=e.location,o=e.hectares,l=e.status,d=p.a.marker([c,n],{icon:a(l)});return d.bindPopup("<p class='popup__title'>".concat(s,"</p>\n\t\t\t\t<p>Discovery date: ").concat(i," </p>\n\t\t\t\t<p>Fire no: ").concat(r," </p>\n\t\t\t\t<p>Hectares: ").concat(o," </p>\n\t\t\t\t<p>Status: ").concat(l," </p>")).openPopup(),d}));p.a.layerGroup(i).addTo(s.current)}),[e]),Object(h.jsx)("div",{className:"container mt-40 container--map",children:Object(h.jsx)("div",{id:"map"})})},O=function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{className:"header__title",children:"BC Wildfire Map"}),Object(h.jsx)("p",{className:"header__subheading",children:"Current active wildfires for the province of British Columbia"}),Object(h.jsx)("p",{children:"All wildfire data is updated one time a day at 01:00AM"}),Object(h.jsxs)("p",{children:["All wildfire data is taken from\xa0",Object(h.jsx)("a",{href:"http://bcfireinfo.for.gov.bc.ca/hprScripts/WildfireNews/Fires.asp?Mode=normal&AllFires=0&FC=0",children:"BC Wildifre Services"})]})]})})},v=function(){var e=[{icon:j,title:"Out of Control"},{icon:f,title:"Being Held"},{icon:b,title:"Under Control"}];return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"title",children:"Legend"}),Object(h.jsx)("div",{className:"legend",children:e.map((function(e,t){return Object(h.jsxs)("div",{className:"legend-marker",children:[Object(h.jsx)("img",{src:e.icon,className:"legend-marker__icon"}),Object(h.jsx)("p",{className:"legend-marker__title",children:e.title})]},t)}))})]})},x=function(){return Object(h.jsxs)("div",{className:"main container mt-40",children:[Object(h.jsx)("div",{className:"column legend-column",children:Object(h.jsx)(v,{})}),Object(h.jsx)("div",{className:"column map-column",children:Object(h.jsx)(m,{})})]})},g=c(10),w=c.n(g),N=c(20),y=c(21),k=c.n(y),C="http://localhost:3000/"===window.location.href?"http://localhost:8000/fires":"/fires",_=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(N.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get(C);case 3:c=e.sent,console.log(c.data),t({type:"FETCH_FIRES",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(O,{}),Object(h.jsx)(x,{})]})},E=Object(s.d)(l,Object(s.c)(Object(s.a)(o.a)));a.a.render(Object(h.jsx)(i.a,{store:E,children:Object(h.jsx)(_,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.5f0576ed.chunk.js.map