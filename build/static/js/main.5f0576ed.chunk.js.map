{"version":3,"sources":["reducers/index.js","reducers/firesReducer.js","logo.svg","assets/images/fire--out-of-control.svg","assets/images/fire--being-held.svg","assets/images/fire--under-control.svg","components/Map.js","components/Header.js","components/Legend.js","components/Main.js","api/index.js","App.js","actions/fires.js","index.js"],"names":["combineReducers","fires","action","type","payload","Map","useSelector","state","useState","map","setMap","mapRef","createRef","current","useEffect","tileLayerURI","process","L","center","zoom","layers","tileLayer","attribution","fireIcon","Icon","extend","options","iconSize","iconAnchor","fireIconOutOfControl","iconUrl","fireIconSrcOutOfControl","fireIconBeingHeld","fireIconSrcBeingHeld","fireIconUnderControl","fireIconSrcUnderControl","getFireIcon","status","markers","fire","key","lat","lon","fireNo","discoveryDate","location","hectares","marker","icon","bindPopup","openPopup","layerGroup","addTo","className","id","Header","href","Legend","legendMarkers","title","el","i","src","Main","url","window","App","dispatch","useDispatch","a","axios","get","console","log","data","message","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f0576ed.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\nimport fires from './firesReducer'\n\nexport default combineReducers({fires})","export default (fires = [], action) => {\n\tswitch(action.type) {\n\t\tcase 'FETCH_FIRES':\n\t\t\treturn action.payload\n\t\tdefault:\n\t\t\treturn fires\n\t}\n}","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/fire--out-of-control.293b83dd.svg\";","export default __webpack_public_path__ + \"static/media/fire--being-held.d1f68f8b.svg\";","export default __webpack_public_path__ + \"static/media/fire--under-control.6a580c09.svg\";","import { useSelector } from 'react-redux'\nimport { useEffect, useState, createRef } from 'react'\nimport L from 'leaflet'\nimport fireIconSrcOutOfControl from '../assets/images/fire--out-of-control.svg'\nimport fireIconSrcBeingHeld from '../assets/images/fire--being-held.svg'\nimport fireIconSrcUnderControl from '../assets/images/fire--under-control.svg'\n\nconst Map = () => {\n\n\tconst fires = useSelector((state) => state.fires)\n\n\tlet [map, setMap] = useState({})\n\tconst mapRef = createRef()\n\tmapRef.current = map\n\n\tuseEffect(() => {\n\n\t\tlet tileLayerURI = `https://api.mapbox.com/styles/v1/gregslonina/ckqvh9jhh913a17nw1sgej609/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}`\n\t\tmapRef.current = L.map('map', {\n\t\tcenter: [49.2827, -123.1207],\n\t\tzoom: 7,\n\t\tlayers: [\n\t\t\tL.tileLayer(tileLayerURI, {\n\t\t\t\tattribution: '&copy; <a href=\"https://gregslonina.com\">Greg Slonina</a>'\n\t\t\t})\n\t\t]\n\t\t})\n\t\tsetMap(mapRef.current)\n\t},[])\n\n\tuseEffect(() => {\n\t\t\n\t\tlet fireIcon = L.Icon.extend({\n\t\t\toptions: {\t\t\n\t\t\t\ticonSize: [20, 20],\n\t\t\t\ticonAnchor: [10, 10]\n\t\t\t}\n\t\t})\n\n\t\tlet fireIconOutOfControl = new fireIcon({iconUrl: fireIconSrcOutOfControl}),\n\t\t\tfireIconBeingHeld = new fireIcon({iconUrl: fireIconSrcBeingHeld}),\n    \t\tfireIconUnderControl = new fireIcon({iconUrl: fireIconSrcUnderControl})\n\n\t\tconst getFireIcon = (status) => {\n\t\t\tswitch (status) {\n\t\t\t\tcase 'Out of Control':\n\t\t\t\t\treturn fireIconOutOfControl\n\t\t\t\t  \tbreak;\n\t\t\t\tcase 'Being Held':\n\t\t\t\t\treturn fireIconBeingHeld\n\t\t\t\t\tbreak;\t\t\t\n\t\t\t\tcase 'Under Control':\n\t\t\t\t\treturn fireIconUnderControl\n\t\t\t\t\tbreak;\n  \t\t\t\tdefault:\n\t\t\t\t\treturn fireIconOutOfControl\n\t\t\t  }\n\t\t}\n\n\t\t//Create markers based on fire data\n\t\tlet markers = fires.map((fire, key) => {\n\t\t\tlet { lat, lon, fireNo, discoveryDate, location, hectares, status  } = fire\n\n\t\t\tlet marker = L.marker([lat, lon], { icon: getFireIcon(status)});\n\t\t\tmarker.bindPopup(\n\t\t\t\t`<p class='popup__title'>${location}</p>\n\t\t\t\t<p>Discovery date: ${discoveryDate} </p>\n\t\t\t\t<p>Fire no: ${fireNo} </p>\n\t\t\t\t<p>Hectares: ${hectares} </p>\n\t\t\t\t<p>Status: ${status} </p>`).openPopup()\n\t\t\treturn marker\n\t\t})\n\n\t\t//Create layer group made of markers\n\t\tL.layerGroup(markers).addTo(mapRef.current)\n    \n  \t},[fires])\n\n\treturn(\n      \t<div className='container mt-40 container--map'>\n        \t<div id='map'></div>\n    \t</div>\n\t)\n}\n\nexport default Map","import React, { Component } from 'react'\n\nconst Header = () => {\n\treturn(\n\t\t<div className='header'>\n\t\t\t<div className='container'>\n\t\t\t\t<h1 className='header__title'>BC Wildfire Map</h1>\n\t\t\t\t<p className='header__subheading'>Current active wildfires for the province of British Columbia</p>\n\t\t\t\t<p>All wildfire data is updated one time a day at 01:00AM</p>\n\t\t\t\t<p>All wildfire data is taken from&nbsp;\n\t\t\t\t\t<a href='http://bcfireinfo.for.gov.bc.ca/hprScripts/WildfireNews/Fires.asp?Mode=normal&AllFires=0&FC=0'>\n\t\t\t\t\t\tBC Wildifre Services\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Header","import fireIconSrcOutOfControl from '../assets/images/fire--out-of-control.svg'\nimport fireIconSrcBeingHeld from '../assets/images/fire--being-held.svg'\nimport fireIconSrcUnderControl from '../assets/images/fire--under-control.svg'\n\nconst Legend = () => {\n\n    const legendMarkers = [{\n        icon: fireIconSrcOutOfControl,\n        title: 'Out of Control',\n    },{\n        icon: fireIconSrcBeingHeld,\n        title: 'Being Held',\n    },{\n        icon: fireIconSrcUnderControl,\n        title: 'Under Control',\n    }]\n\treturn(\n        <div>\n            <h2 className='title'>Legend</h2>\n            <div className='legend'>\n                { legendMarkers.map((el,i) => {\n                    return (               \n                        <div key={i} className='legend-marker'>\n                        <img src={el.icon} className='legend-marker__icon' />\n                        <p className=\"legend-marker__title\">{el.title}</p>\n                        </div>\n                    )\n                }) }\n            </div>\n        </div>\n\t)\n}\n\nexport default Legend","import Map from './Map'\nimport Legend from './Legend'\n\nconst Main = () => {\n\n\treturn(\n    <div className='main container mt-40'>\n        <div className='column legend-column'>\n            <Legend></Legend>\n        </div>\n        <div className='column map-column'>\n            <Map></Map>\n        </div>\n    </div>\n\t)\n}\n\nexport default Main","import axios from 'axios'\n\nconst url = (window.location.href === 'http://localhost:3000/' ? 'http://localhost:8000/fires' : '/fires' )\n//const url = '/fires'\n//const url = 'http://localhost:8000/fires'\n\nexport const fetchFires = () => axios.get(url)","import logo from './logo.svg';\nimport './App.css';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport Map from './components/Map'\nimport Header from './components/Header'\nimport Main from './components/Main'\n\nimport { fetchFires } from './actions/fires'\n\nconst App = () => {\n\n\tconst dispatch = useDispatch()\n\n\tuseEffect(() => {\n\t\tdispatch(fetchFires())\n\t},[dispatch])\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Header></Header>\n\t\t\t<Main></Main>\n\t\t\t{/* <Header></Header>\n\t\t\t<Map></Map> */}\n\t\t</div>\n\t)\n}\n\nexport default App\n","import * as api from '../api'\n\nexport const fetchFires = () => async (dispatch) => {\n\ttry {\n\t\tconst fires = await api.fetchFires()\n\t\tconsole.log(fires.data)\n\t\tdispatch({\n\t\t\ttype: 'FETCH_FIRES',\n\t\t\tpayload: fires.data\n\t\t})\n\t} catch(error) {\n\t\tconsole.log(error.message)\n\t}\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducers from './reducers'\n//import './index.css';\nimport App from './App';\n\nconst store = createStore(reducers, compose(applyMiddleware(thunk)))\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}